<launch>
  <!-- Wavemap params -->
  <arg name="param_file"
       default="$(find wavemap_3d_ros)/config/newer_college/ouster_os1.yaml"
       doc="Name of the file from which to read wavemap's server params."/>

  <!-- Dataset params -->
  <arg name="only_first_rosbag"
       default="false"
       doc="If true, replay only the first the rosbag in the dataset. If false, replay everything."/>

  <!-- Publish the sensor poses -->
  <node pkg="tf" type="static_transform_publisher"
        name="static_tf_cam_left_os1_lidar"
        args="-0.084 -0.025 0.05 0 0 0.9238795 0.3826834 cam_left os1_lidar 100"/>
  <node pkg="wavemap_3d_ros" type="csv_to_tf.py" name="csv_to_tf_pub"
        output="screen">
    <param name="ground_truth_pose_file_path"
           value="../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/registered_poses.csv"/>
    <param name="sensor_frame"
           value="cam_left"/>
  </node>

  <!-- Select the rosbag paths -->
  <!-- NOTE: Relative paths will be resolved w.r.t. ROS_HOME (default ~/.ros) -->
  <arg if="$(arg only_first_rosbag)" name="rosbag_path"
       value="../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-36-51_0-compressed.bag"/>
  <arg unless="$(arg only_first_rosbag)" name="rosbag_path" value="
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-36-51_0-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-39-38_1-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-42-25_2-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-45-12_3-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-47-59_4-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-50-46_5-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-53-33_6-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-56-20_7-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-11-59-07_8-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-12-01-54_9-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-12-04-41_10-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-12-07-28_11-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-12-10-15_12-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-12-13-02_13-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-12-15-49_14-compressed.bag
../data/newer_college/2020-ouster-os1-64-realsense/02_long_experiment/rooster_2020-03-10-12-18-36_15-compressed.bag"/>

  <!-- Run wavemap -->
  <include file="$(find wavemap_3d_ros)/launch/datasets/dataset_base.launch"
           pass_all_args="true"/>
</launch>
